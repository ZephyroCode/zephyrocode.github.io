---
import Layout from '../../layouts/Layout.astro'
import SectionContainer from '../../components/SectionContainer.astro'
import PostCard from '../../components/PostCard.astro'

import { formatBlogPosts } from '../../js/utils'

const POSTS = await Astro.glob('./posts/*.md')
const formattedPosts = formatBlogPosts(POSTS)
---

<Layout
  title='ZephyroCode - Blog'
  description='Personal blog to share stories, experiences, and more!'
>
  <h1
    class='text-center text-white text-xl md:text-3xl lg:text-4xl font-bold mt-14 mb-4'
  >
    ZephyroCode Blog
  </h1>
  <main class='px-4 mb-20'>
    <h2
      class='text-center text-sky-200/80 text-xl md:text-2xl lg:text-3xl font-semibold'
    >
      Check out my latest posts!
    </h2>
    <SectionContainer
      className='flex justify-center items-start my-12 gap-3 flex-wrap'
    >
      {
        formattedPosts.map((post) => (
          <PostCard frontmatter={post.frontmatter} url={post.url} />
        ))
      }
    </SectionContainer>
  </main>
</Layout>
